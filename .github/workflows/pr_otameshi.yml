name: Pull request otameshi
on:
  pull_request:
    # ãƒ™ãƒ¼ã‚¹ãƒ–ãƒ©ãƒ³ãƒ(ãƒãƒ¼ã‚¸å…ˆ)
    branches:
      - master
    # types: [opened, reopened, closed]

jobs:
  job1:
    name: JOB 1
    runs-on: ubuntu-latest
    env:
      # ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¤ãƒ™ãƒ³ãƒˆactionã‚­ãƒ¼ã®å€¤(string)
      # ä»¥ä¸‹ã®URLã®èª¬æ˜ã®ã©ã‚Œã‹ãŒå…¥ã‚‹
      # 'synchronize' ã¨ã‹
      # https://docs.github.com/ja/developers/webhooks-and-events/webhooks/webhook-events-and-payloads#pull_request
      PR_2: ${{ github.event.action }}

      # ã‚¤ãƒ™ãƒ³ãƒˆå
      # ã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯pull_requestã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ãªã®ã§
      # 'pull_request' ãŒã¯ã„ã‚‹
      PR_3: ${{ github.event_name }}

      # PRç•ªå·
      # æ­£ã®æ•´æ•°ã§ã¯ã„ã‚‹
      PR_4: ${{ github.event.number }}

      # ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ã—ãŸäººã®ãƒ­ã‚°ã‚¤ãƒ³å
      PR_5: ${{ github.event.sender.login }}

      # ã‚¤ãƒ™ãƒ³ãƒˆãƒˆãƒªã‚¬ãƒ¼ã—ãŸäººã®URL
      PR_6: ${{ github.event.sender.html_url }}

      # senderã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
      PR_7: ${{ toJSON(github.event.sender) }}

      # PR URL
      PR_8: ${{ github.event.pull_request.html_url }}

      # base ref
      PR_9: ${{ github.event.pull_request.base.ref }}

    steps:
      - name: Display Info
        run: |
          echo "GITHUB_SHA : $GITHUB_SHA"
          echo "GITHUB_REF : $GITHUB_REF"
          echo "GITHUB_HEAD_REF : $GITHUB_HEAD_REF"
          echo "PR_2 : $PR_2"
          echo "PR_3 : $PR_3"
          echo "PR_4 : $PR_4"
          echo "PR_5 : $PR_5"
          echo "PR_6 : $PR_6"
          echo "PR_8 : $PR_8"
          echo "PR_9 : $PR_9"

      - name: Dump PR_7
        run: echo "$PR_7"

      - name: View context attributes
        uses: actions/github-script@v5
        with:
          script: |
            github.rest.issues.createComment({
              issue_number: context.payload.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              body: 'ğŸ‘‹ Thanks for reporting!'
            })          



